import{At as e,Cn as t,Ct as n,Dt as r,Et as ee,Jt as i,Kt as a,Mt as o,Nt as s,On as c,Ot as te,hn as l,in as u,jt as d,kt as f}from"./game-logic-CfBcTF_c.js";import"./vendor-pinia-DP9x75p8.js";import"./vendor-crypto-Ce_BCn-h.js";import"./game-i18n-DEf7ySVe.js";import"./vendor-others-CUjrprN5.js";import"./vendor-reka-ui-CZQh7FLl.js";import"./vendor-utils-Dg-HLkEU.js";import"./vendor-vueuse-C7EbLx--.js";import"./vendor-icons-W6Ny__75.js";import{t as p}from"./CardDescription-D2AN1hhX.js";import{d as ne,h as re,m as ie,p as m,u as ae}from"./game-config-D-D7cMgJ.js";import{A as oe,I as se,M as h,O as g,P as ce,c as _,l as v,s as y,t as b,u as x}from"./index-DWmvUlvu.js";import{t as le}from"./useGameConfig-B5wf1i8i.js";import{a as ue,i as de,n as fe,r as pe,t as S}from"./SelectValue-Cm2l40Fd.js";var C={class:`container mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6`},w={class:`flex items-center justify-between`},T={class:`text-2xl sm:text-3xl font-bold`},E={key:0,class:`flex flex-wrap gap-2 border-b`},D={key:1,class:`space-y-4`},O={class:`flex gap-2`},k={key:2,class:`space-y-4`},A={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},j={class:`flex gap-2`},M={key:3,class:`space-y-4`},N={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},P={class:`flex gap-2`},F={key:4,class:`space-y-4`},I={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},L={class:`flex gap-2`},R={key:5,class:`space-y-4`},z={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},B={class:`flex gap-2`},me={key:6,class:`space-y-4`},he={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},ge={class:`flex gap-2`},V=s({__name:`GMView`,setup(s){let V=se(),{t:H}=ce(),{BUILDINGS:_e,TECHNOLOGIES:ve,SHIPS:ye,DEFENSES:be,OFFICERS:xe}=le(),U=l(V.player.planets[0]?.id||``),W=l(`resources`),G=l({});Object.values(m).forEach(e=>{let t=V.player.officers[e];if(t&&t.expiresAt){let n=Math.ceil((t.expiresAt-Date.now())/(1e3*60*60*24));G.value[e]=Math.max(0,n)}else G.value[e]=0});let K=ee(()=>V.player.planets.find(e=>e.id===U.value)),Se=[`metal`,`crystal`,`deuterium`,`darkMatter`],Ce=Object.values(ae),we=Object.values(re),Te=Object.values(ie),Ee=Object.values(ne),q=Object.values(m),J=(e,t)=>{K.value&&(K.value.resources[e]+=t)},Y=(e,t)=>{K.value&&(K.value.buildings[e]=t)},X=(e,t)=>{V.player.technologies[e]=t},Z=(e,t)=>{K.value&&(K.value.fleet[e]=(K.value.fleet[e]||0)+t)},Q=(e,t)=>{K.value&&(K.value.defense[e]=(K.value.defense[e]||0)+t)},$=(e,t)=>{G.value[e]=t;let n=Date.now(),r=n+t*24*60*60*1e3;V.player.officers[e]?(V.player.officers[e].expiresAt=r,V.player.officers[e].active=!0,V.player.officers[e].hiredAt||(V.player.officers[e].hiredAt=n)):V.player.officers[e]={type:e,active:!0,hiredAt:n,expiresAt:r}},De=()=>{confirm(H(`gmView.resetGameConfirm`))&&(localStorage.clear(),location.reload())};return(ee,s)=>(a(),e(`div`,C,[r(`div`,w,[r(`h1`,T,c(t(H)(`gmView.title`)),1),o(t(oe),{variant:`destructive`},{default:u(()=>[d(c(t(H)(`gmView.adminOnly`)),1)]),_:1})]),o(t(x),null,{default:u(()=>[o(t(_),null,{default:u(()=>[o(t(y),null,{default:u(()=>[d(c(t(H)(`gmView.selectPlanet`)),1)]),_:1})]),_:1}),o(t(v),null,{default:u(()=>[o(t(ue),{modelValue:U.value,"onUpdate:modelValue":s[0]||=e=>U.value=e},{default:u(()=>[o(t(fe),null,{default:u(()=>[o(t(S),{placeholder:t(H)(`gmView.choosePlanet`)},null,8,[`placeholder`])]),_:1}),o(t(de),null,{default:u(()=>[(a(!0),e(n,null,i(t(V).player.planets,e=>(a(),te(t(pe),{key:e.id,value:e.id},{default:u(()=>[d(c(e.name)+` (`+c(e.position.galaxy)+`:`+c(e.position.system)+`:`+c(e.position.position)+`) `,1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])]),_:1})]),_:1}),K.value?(a(),e(`div`,E,[o(t(h),{onClick:s[1]||=e=>W.value=`resources`,variant:W.value===`resources`?`default`:`ghost`,class:`rounded-b-none`},{default:u(()=>[d(c(t(H)(`gmView.resources`)),1)]),_:1},8,[`variant`]),o(t(h),{onClick:s[2]||=e=>W.value=`buildings`,variant:W.value===`buildings`?`default`:`ghost`,class:`rounded-b-none`},{default:u(()=>[d(c(t(H)(`gmView.buildings`)),1)]),_:1},8,[`variant`]),o(t(h),{onClick:s[3]||=e=>W.value=`research`,variant:W.value===`research`?`default`:`ghost`,class:`rounded-b-none`},{default:u(()=>[d(c(t(H)(`gmView.research`)),1)]),_:1},8,[`variant`]),o(t(h),{onClick:s[4]||=e=>W.value=`ships`,variant:W.value===`ships`?`default`:`ghost`,class:`rounded-b-none`},{default:u(()=>[d(c(t(H)(`gmView.ships`)),1)]),_:1},8,[`variant`]),o(t(h),{onClick:s[5]||=e=>W.value=`defense`,variant:W.value===`defense`?`default`:`ghost`,class:`rounded-b-none`},{default:u(()=>[d(c(t(H)(`gmView.defense`)),1)]),_:1},8,[`variant`]),o(t(h),{onClick:s[6]||=e=>W.value=`officers`,variant:W.value===`officers`?`default`:`ghost`,class:`rounded-b-none`},{default:u(()=>[d(c(t(H)(`gmView.officers`)),1)]),_:1},8,[`variant`])])):f(``,!0),K.value&&W.value===`resources`?(a(),e(`div`,D,[o(t(x),null,{default:u(()=>[o(t(_),null,{default:u(()=>[o(t(y),null,{default:u(()=>[d(c(t(H)(`gmView.modifyResources`)),1)]),_:1}),o(t(p),null,{default:u(()=>[d(c(t(H)(`gmView.resourcesDesc`)),1)]),_:1})]),_:1}),o(t(v),{class:`space-y-4`},{default:u(()=>[(a(),e(n,null,i(Se,e=>r(`div`,{key:e,class:`space-y-2`},[o(t(b),null,{default:u(()=>[d(c(t(H)(`resources.${e}`)),1)]),_:2},1024),r(`div`,O,[o(t(g),{modelValue:K.value.resources[e],"onUpdate:modelValue":t=>K.value.resources[e]=t,modelModifiers:{number:!0},type:`number`,min:`0`,class:`flex-1`},null,8,[`modelValue`,`onUpdate:modelValue`]),o(t(h),{onClick:t=>J(e,1e6),variant:`outline`,size:`sm`},{default:u(()=>[...s[7]||=[d(`+1M`,-1)]]),_:1},8,[`onClick`]),o(t(h),{onClick:t=>J(e,1e7),variant:`outline`,size:`sm`},{default:u(()=>[...s[8]||=[d(`+10M`,-1)]]),_:1},8,[`onClick`])])])),64))]),_:1})]),_:1})])):f(``,!0),K.value&&W.value===`buildings`?(a(),e(`div`,k,[o(t(x),null,{default:u(()=>[o(t(_),null,{default:u(()=>[o(t(y),null,{default:u(()=>[d(c(t(H)(`gmView.modifyBuildings`)),1)]),_:1}),o(t(p),null,{default:u(()=>[d(c(t(H)(`gmView.buildingsDesc`)),1)]),_:1})]),_:1}),o(t(v),null,{default:u(()=>[r(`div`,A,[(a(!0),e(n,null,i(t(Ce),n=>(a(),e(`div`,{key:n,class:`space-y-2`},[o(t(b),null,{default:u(()=>[d(c(t(_e)[n].name),1)]),_:2},1024),r(`div`,j,[o(t(g),{modelValue:K.value.buildings[n],"onUpdate:modelValue":e=>K.value.buildings[n]=e,modelModifiers:{number:!0},type:`number`,min:`0`,max:`100`,class:`flex-1`},null,8,[`modelValue`,`onUpdate:modelValue`]),o(t(h),{onClick:e=>Y(n,10),variant:`outline`,size:`sm`},{default:u(()=>[...s[9]||=[d(`Lv 10`,-1)]]),_:1},8,[`onClick`]),o(t(h),{onClick:e=>Y(n,30),variant:`outline`,size:`sm`},{default:u(()=>[...s[10]||=[d(`Lv 30`,-1)]]),_:1},8,[`onClick`])])]))),128))])]),_:1})]),_:1})])):f(``,!0),W.value===`research`?(a(),e(`div`,M,[o(t(x),null,{default:u(()=>[o(t(_),null,{default:u(()=>[o(t(y),null,{default:u(()=>[d(c(t(H)(`gmView.modifyResearch`)),1)]),_:1}),o(t(p),null,{default:u(()=>[d(c(t(H)(`gmView.researchDesc`)),1)]),_:1})]),_:1}),o(t(v),null,{default:u(()=>[r(`div`,N,[(a(!0),e(n,null,i(t(we),n=>(a(),e(`div`,{key:n,class:`space-y-2`},[o(t(b),null,{default:u(()=>[d(c(t(ve)[n].name),1)]),_:2},1024),r(`div`,P,[o(t(g),{modelValue:t(V).player.technologies[n],"onUpdate:modelValue":e=>t(V).player.technologies[n]=e,modelModifiers:{number:!0},type:`number`,min:`0`,max:`50`,class:`flex-1`},null,8,[`modelValue`,`onUpdate:modelValue`]),o(t(h),{onClick:e=>X(n,10),variant:`outline`,size:`sm`},{default:u(()=>[...s[11]||=[d(`Lv 10`,-1)]]),_:1},8,[`onClick`]),o(t(h),{onClick:e=>X(n,20),variant:`outline`,size:`sm`},{default:u(()=>[...s[12]||=[d(`Lv 20`,-1)]]),_:1},8,[`onClick`])])]))),128))])]),_:1})]),_:1})])):f(``,!0),K.value&&W.value===`ships`?(a(),e(`div`,F,[o(t(x),null,{default:u(()=>[o(t(_),null,{default:u(()=>[o(t(y),null,{default:u(()=>[d(c(t(H)(`gmView.modifyShips`)),1)]),_:1}),o(t(p),null,{default:u(()=>[d(c(t(H)(`gmView.shipsDesc`)),1)]),_:1})]),_:1}),o(t(v),null,{default:u(()=>[r(`div`,I,[(a(!0),e(n,null,i(t(Te),n=>(a(),e(`div`,{key:n,class:`space-y-2`},[o(t(b),null,{default:u(()=>[d(c(t(ye)[n].name),1)]),_:2},1024),r(`div`,L,[o(t(g),{modelValue:K.value.fleet[n],"onUpdate:modelValue":e=>K.value.fleet[n]=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`flex-1`},null,8,[`modelValue`,`onUpdate:modelValue`]),o(t(h),{onClick:e=>Z(n,100),variant:`outline`,size:`sm`},{default:u(()=>[...s[13]||=[d(`+100`,-1)]]),_:1},8,[`onClick`]),o(t(h),{onClick:e=>Z(n,1e3),variant:`outline`,size:`sm`},{default:u(()=>[...s[14]||=[d(`+1K`,-1)]]),_:1},8,[`onClick`])])]))),128))])]),_:1})]),_:1})])):f(``,!0),K.value&&W.value===`defense`?(a(),e(`div`,R,[o(t(x),null,{default:u(()=>[o(t(_),null,{default:u(()=>[o(t(y),null,{default:u(()=>[d(c(t(H)(`gmView.modifyDefense`)),1)]),_:1}),o(t(p),null,{default:u(()=>[d(c(t(H)(`gmView.defenseDesc`)),1)]),_:1})]),_:1}),o(t(v),null,{default:u(()=>[r(`div`,z,[(a(!0),e(n,null,i(t(Ee),n=>(a(),e(`div`,{key:n,class:`space-y-2`},[o(t(b),null,{default:u(()=>[d(c(t(be)[n].name),1)]),_:2},1024),r(`div`,B,[o(t(g),{modelValue:K.value.defense[n],"onUpdate:modelValue":e=>K.value.defense[n]=e,modelModifiers:{number:!0},type:`number`,min:`0`,class:`flex-1`},null,8,[`modelValue`,`onUpdate:modelValue`]),o(t(h),{onClick:e=>Q(n,100),variant:`outline`,size:`sm`},{default:u(()=>[...s[15]||=[d(`+100`,-1)]]),_:1},8,[`onClick`]),o(t(h),{onClick:e=>Q(n,1e3),variant:`outline`,size:`sm`},{default:u(()=>[...s[16]||=[d(`+1K`,-1)]]),_:1},8,[`onClick`])])]))),128))])]),_:1})]),_:1})])):f(``,!0),W.value===`officers`?(a(),e(`div`,me,[o(t(x),null,{default:u(()=>[o(t(_),null,{default:u(()=>[o(t(y),null,{default:u(()=>[d(c(t(H)(`gmView.modifyOfficers`)),1)]),_:1}),o(t(p),null,{default:u(()=>[d(c(t(H)(`gmView.officersDesc`)),1)]),_:1})]),_:1}),o(t(v),null,{default:u(()=>[r(`div`,he,[(a(!0),e(n,null,i(t(q),n=>(a(),e(`div`,{key:n,class:`space-y-2`},[o(t(b),null,{default:u(()=>[d(c(t(xe)[n].name),1)]),_:2},1024),r(`div`,ge,[o(t(g),{modelValue:G.value[n],"onUpdate:modelValue":e=>G.value[n]=e,modelModifiers:{number:!0},type:`number`,min:`0`,placeholder:t(H)(`gmView.days`),class:`flex-1`},null,8,[`modelValue`,`onUpdate:modelValue`,`placeholder`]),o(t(h),{onClick:e=>$(n,7),variant:`outline`,size:`sm`},{default:u(()=>[d(`7`+c(t(H)(`gmView.days`)),1)]),_:1},8,[`onClick`]),o(t(h),{onClick:e=>$(n,30),variant:`outline`,size:`sm`},{default:u(()=>[d(`30`+c(t(H)(`gmView.days`)),1)]),_:1},8,[`onClick`]),o(t(h),{onClick:e=>$(n,365),variant:`outline`,size:`sm`},{default:u(()=>[d(`365`+c(t(H)(`gmView.days`)),1)]),_:1},8,[`onClick`])])]))),128))])]),_:1})]),_:1})])):f(``,!0),o(t(x),{class:`border-destructive`},{default:u(()=>[o(t(_),null,{default:u(()=>[o(t(y),{class:`text-destructive`},{default:u(()=>[d(c(t(H)(`gmView.dangerZone`)),1)]),_:1}),o(t(p),null,{default:u(()=>[d(c(t(H)(`gmView.dangerZoneDesc`)),1)]),_:1})]),_:1}),o(t(v),{class:`space-y-2`},{default:u(()=>[o(t(h),{onClick:De,variant:`destructive`,class:`w-full`},{default:u(()=>[d(c(t(H)(`gmView.resetGame`)),1)]),_:1})]),_:1})]),_:1})]))}});export{V as default};